---
/**
 * Pruebas Online - Portal del Alumno
 * Interfaz de examen teórico con cronómetro y navegación entre preguntas
 */
import DashboardLayout from "../../layouts/DashboardLayout.astro";
---

<DashboardLayout title="Ensayo Teórico - Clase B">
  <div class="space-y-6">

    <!-- Header de la Prueba -->
    <header class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
      <div class="p-6 pb-4">
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
          <div class="space-y-1">
            <div class="flex items-center gap-2">
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-[11px] font-semibold bg-blue-100 text-blue-800 ring-1 ring-inset ring-blue-200 uppercase tracking-wider">En curso</span>
            </div>
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 tracking-tighter">
              Ensayo Teórico — Clase B
            </h1>
            <p class="text-sm text-gray-500">Reglamento del Tránsito y Seguridad Vial</p>
          </div>

          <!-- Cronómetro -->
          <div class="flex items-center gap-3 bg-gray-900 text-white px-5 py-3 rounded-xl shadow-lg" id="cronometro">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-400 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <div>
              <p class="text-[10px] font-medium text-gray-400 uppercase tracking-wider">Tiempo restante</p>
              <p class="text-2xl font-bold font-mono tracking-wider">44:59</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Barra de progreso -->
      <div class="px-6 pb-4">
        <div class="flex items-center justify-between mb-2">
          <span class="text-xs font-semibold text-gray-700">Pregunta <span class="text-blue-600">5</span> de 35</span>
          <span class="text-xs font-medium text-gray-400">14% completado</span>
        </div>
        <div class="w-full bg-gray-100 rounded-full h-2">
          <div class="bg-blue-600 h-2 rounded-full transition-all duration-500" style="width: 14.3%"></div>
        </div>
      </div>

      <!-- Mini-navegador de preguntas -->
      <div class="px-6 pb-5 border-t border-gray-100 pt-4">
        <div class="flex flex-wrap gap-1.5">
          <!-- Respondidas (1-4) -->
          <button class="w-8 h-8 rounded-lg text-xs font-semibold bg-green-100 text-green-700 border border-green-200 hover:bg-green-200 transition-colors" title="Pregunta 1 - Respondida">1</button>
          <button class="w-8 h-8 rounded-lg text-xs font-semibold bg-green-100 text-green-700 border border-green-200 hover:bg-green-200 transition-colors" title="Pregunta 2 - Respondida">2</button>
          <button class="w-8 h-8 rounded-lg text-xs font-semibold bg-green-100 text-green-700 border border-green-200 hover:bg-green-200 transition-colors" title="Pregunta 3 - Respondida">3</button>
          <button class="w-8 h-8 rounded-lg text-xs font-semibold bg-green-100 text-green-700 border border-green-200 hover:bg-green-200 transition-colors" title="Pregunta 4 - Respondida">4</button>
          <!-- Actual (5) -->
          <button class="w-8 h-8 rounded-lg text-xs font-bold bg-blue-600 text-white border border-blue-700 ring-2 ring-blue-200 shadow-sm" title="Pregunta 5 - Actual">5</button>
          <!-- Sin responder (6-35) -->
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors" title="Pregunta 6">6</button>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors" title="Pregunta 7">7</button>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors" title="Pregunta 8">8</button>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors" title="Pregunta 9">9</button>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors" title="Pregunta 10">10</button>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors hidden sm:inline-flex" title="Pregunta 11">11</button>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors hidden sm:inline-flex" title="Pregunta 12">12</button>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors hidden sm:inline-flex" title="Pregunta 13">13</button>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors hidden sm:inline-flex" title="Pregunta 14">14</button>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors hidden sm:inline-flex" title="Pregunta 15">15</button>
          <span class="w-8 h-8 rounded-lg text-xs font-medium text-gray-300 flex items-center justify-center hidden sm:inline-flex">···</span>
          <button class="w-8 h-8 rounded-lg text-xs font-medium bg-white text-gray-400 border border-gray-200 hover:bg-gray-50 hover:text-gray-600 transition-colors hidden sm:inline-flex" title="Pregunta 35">35</button>
        </div>
        <div class="flex items-center gap-4 mt-3 text-[11px] text-gray-400">
          <span class="inline-flex items-center gap-1"><span class="w-2.5 h-2.5 rounded bg-green-100 border border-green-200"></span> Respondida</span>
          <span class="inline-flex items-center gap-1"><span class="w-2.5 h-2.5 rounded bg-blue-600 border border-blue-700"></span> Actual</span>
          <span class="inline-flex items-center gap-1"><span class="w-2.5 h-2.5 rounded bg-white border border-gray-200"></span> Sin responder</span>
        </div>
      </div>
    </header>

    <!-- Tarjeta de la Pregunta -->
    <div class="bg-white rounded-xl border border-gray-200 shadow-sm p-6 sm:p-8">
      <!-- Texto de la pregunta -->
      <div class="mb-8">
        <p class="text-lg sm:text-xl font-semibold text-gray-900 leading-relaxed">
          <span class="text-blue-600 font-bold">5.</span> Al acercarse a un paso de cebra donde hay peatones esperando para cruzar, usted debe:
        </p>
      </div>

      <!-- Alternativas -->
      <div class="space-y-3" id="alternativas">
        <!-- Opción A -->
        <label class="group flex items-start gap-4 p-4 rounded-xl border-2 border-gray-200 cursor-pointer hover:bg-gray-50 hover:border-gray-300 transition-all duration-200">
          <div class="flex-shrink-0 mt-0.5">
            <div class="w-6 h-6 rounded-full border-2 border-gray-300 group-hover:border-gray-400 flex items-center justify-center transition-colors">
              <div class="w-0 h-0 rounded-full bg-blue-600 transition-all"></div>
            </div>
          </div>
          <div class="flex-1 min-w-0">
            <span class="text-xs font-bold text-gray-400 uppercase tracking-wider">A</span>
            <p class="text-sm sm:text-base text-gray-700 mt-0.5 leading-relaxed">Acelerar para pasar antes de que el peatón baje a la calzada.</p>
          </div>
        </label>

        <!-- Opción B -->
        <label class="group flex items-start gap-4 p-4 rounded-xl border-2 border-gray-200 cursor-pointer hover:bg-gray-50 hover:border-gray-300 transition-all duration-200">
          <div class="flex-shrink-0 mt-0.5">
            <div class="w-6 h-6 rounded-full border-2 border-gray-300 group-hover:border-gray-400 flex items-center justify-center transition-colors">
              <div class="w-0 h-0 rounded-full bg-blue-600 transition-all"></div>
            </div>
          </div>
          <div class="flex-1 min-w-0">
            <span class="text-xs font-bold text-gray-400 uppercase tracking-wider">B</span>
            <p class="text-sm sm:text-base text-gray-700 mt-0.5 leading-relaxed">Tocar la bocina para advertir su presencia.</p>
          </div>
        </label>

        <!-- Opción C (Seleccionada) -->
        <label class="group flex items-start gap-4 p-4 rounded-xl border-2 border-blue-500 bg-blue-50 cursor-pointer transition-all duration-200 ring-1 ring-blue-200">
          <div class="flex-shrink-0 mt-0.5">
            <div class="w-6 h-6 rounded-full border-2 border-blue-500 flex items-center justify-center transition-colors">
              <div class="w-3 h-3 rounded-full bg-blue-600"></div>
            </div>
          </div>
          <div class="flex-1 min-w-0">
            <span class="text-xs font-bold text-blue-600 uppercase tracking-wider">C</span>
            <p class="text-sm sm:text-base text-gray-900 font-medium mt-0.5 leading-relaxed">Disminuir la velocidad y detenerse si es necesario para ceder el paso.</p>
          </div>
          <div class="flex-shrink-0 mt-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
          </div>
        </label>
      </div>

      <!-- Navegación inferior -->
      <div class="flex items-center justify-between mt-8 pt-6 border-t border-gray-100">
        <button class="inline-flex items-center gap-2 px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:border-gray-400 transition-all duration-200" id="btn-anterior">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
          Anterior
        </button>

        <button class="inline-flex items-center gap-2 px-5 py-2.5 text-sm font-semibold text-white bg-gray-900 rounded-lg shadow-sm hover:bg-gray-800 transition-all duration-200" id="btn-siguiente">
          Siguiente
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Botón Finalizar -->
    <div class="flex justify-end">
      <button class="inline-flex items-center gap-2 px-6 py-3 text-sm font-semibold text-white bg-red-600 rounded-xl shadow-sm hover:bg-red-700 ring-1 ring-red-700 transition-all duration-200" id="btn-finalizar">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        Finalizar y Enviar Prueba
      </button>
    </div>

  </div>
</DashboardLayout>
