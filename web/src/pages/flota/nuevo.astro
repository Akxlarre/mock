---
/**
 * Registrar Nuevo Vehículo
 * RF-087: Formulario dedicado para registro de vehículos
 */
import DashboardLayout from "../../layouts/DashboardLayout.astro";
import Card from "../../components/ui/Card.astro";
import Button from "../../components/ui/Button.astro";
import Input from "../../components/ui/Input.astro";
import { ESCUELA_ACTUAL } from "../../lib/mockData";
---

<DashboardLayout title="Registrar Nuevo Vehículo" escuela={ESCUELA_ACTUAL}>
  <div class="mb-8">
    <div class="flex items-center gap-2 text-sm text-secondary mb-2">
      <a href="/flota/vehiculos" class="hover:text-gray-900">Volver a Flota</a>
      <span>/</span>
      <span class="text-gray-900 font-medium">Nuevo Vehículo</span>
    </div>
    <h1 class="text-3xl font-semibold text-gray-900">Registrar Nuevo Vehículo</h1>
    <p class="text-secondary mt-1">Complete la ficha técnica y administrativa del móvil</p>
  </div>

  <div class="max-w-4xl mx-auto">
    <Card class="p-8">
      <form onsubmit="event.preventDefault(); alert('Vehículo registrado correctamente'); window.location.href='/flota/vehiculos'">
        <div class="space-y-8">
          <!-- Datos del Vehículo -->
          <div>
            <h3 class="text-lg font-medium text-gray-900 border-b pb-2 mb-4">Datos del Vehículo</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Patente</label>
                <input type="text" placeholder="ABCD-12" required class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2" />
              </div>
              
              <div class="grid grid-cols-2 gap-4">
                <div>
                   <label class="block text-sm font-medium text-gray-700 mb-1">Marca</label>
                   <select class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2">
                     <option>Toyota</option>
                     <option>Suzuki</option>
                     <option>Hyundai</option>
                     <option>Kia</option>
                     <option>Chevrolet</option>
                   </select>
                </div>
                <div>
                   <label class="block text-sm font-medium text-gray-700 mb-1">Modelo</label>
                   <input type="text" placeholder="Ej: Swift" required class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2" />
                </div>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Año</label>
                <input type="number" placeholder="2024" min="2000" max="2030" required class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2" />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Color</label>
                <input type="text" placeholder="Ej: Blanco" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2" />
              </div>
            </div>
          </div>

          <!-- Datos Administrativos -->
          <div>
            <h3 class="text-lg font-medium text-gray-900 border-b pb-2 mb-4">Datos Administrativos</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Vencimiento Revisión Técnica</label>
                <input type="date" required class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2" />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Sede Asignada</label>
                <select class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2">
                  <option>Chillán Centro</option>
                  <option>Los Volcanes</option>
                </select>
              </div>

              <div class="md:col-span-2">
                <label class="block text-sm font-medium text-gray-700 mb-1">Instructor Asignado (Por defecto)</label>
                <select class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2">
                  <option value="">-- Sin asignar --</option>
                  <option>Juan Pérez</option>
                  <option>María González</option>
                  <option>Carlos Ruiz</option>
                </select>
                <p class="text-xs text-gray-500 mt-1">Este instructor tendrá prioridad en la agenda del vehículo.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-8 flex justify-end gap-3 border-t pt-6">
          <a href="/flota/vehiculos" class="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Cancelar
          </a>
          <button type="submit" class="inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm">
            Guardar Vehículo
          </button>
        </div>
      </form>
    </Card>
  </div>
</DashboardLayout>
