---
import DashboardLayout from '../../layouts/DashboardLayout.astro';
import Card from '../../components/ui/Card.astro';
import Button from '../../components/ui/Button.astro';
import { cuadraturaDiaria, ESCUELA_ACTUAL } from '../../lib/mockData';

const totalFormateado = new Intl.NumberFormat('es-CL', { style: 'currency', currency: 'CLP' }).format(cuadraturaDiaria.totalIngresos);
---
<DashboardLayout title="Cuadratura Diaria - Escuela de Conductores" escuela={ESCUELA_ACTUAL}>
  <h1 class="text-2xl font-semibold text-base-content mb-6">Cuadratura Diaria - {cuadraturaDiaria.fecha}</h1>
  <p class="text-base-content/70 mb-4">RF-029: Resumen diario de ingresos y vista previa del informe.</p>
  <Card class="max-w-xl mb-6">
    <ul class="space-y-2 text-base-content">
      <li>Pagos registrados: <strong>{cuadraturaDiaria.pagosRegistrados}</strong></li>
      <li>Total ingresos: <strong>{totalFormateado}</strong></li>
    </ul>
    <div class="mt-6 p-4 bg-base-200 rounded-lg">
      <p class="text-sm text-base-content/70 mb-2">Vista previa PDF</p>
      <p class="text-base-content/80">Informe de cuadratura - {cuadraturaDiaria.fecha}.pdf</p>
    </div>
    <Button variant="primary" class="w-full mt-6">Generar PDF</Button>
  </Card>
</DashboardLayout>
