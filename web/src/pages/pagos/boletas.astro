---
import DashboardLayout from '../../layouts/DashboardLayout.astro';
import Card from '../../components/ui/Card.astro';
import Button from '../../components/ui/Button.astro';
import { boletasSII, ESCUELA_ACTUAL } from '../../lib/mockData';

const formatear = (n: number) => new Intl.NumberFormat('es-CL', { style: 'currency', currency: 'CLP' }).format(n);
---
<DashboardLayout title="Gestión boletas SII - Escuela de Conductores" escuela={ESCUELA_ACTUAL}>
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
    <h1 class="text-2xl font-semibold text-base-content">Gestión boletas SII</h1>
    <Button variant="primary">Registrar boleta</Button>
  </div>
  <Card class="overflow-hidden p-0">
    <div class="overflow-x-auto">
      <table class="table">
        <thead>
          <tr class="bg-base-200 text-base-content">
            <th class="font-semibold text-sm py-3 px-4">Folio</th>
            <th class="font-semibold text-sm py-3 px-4">Monto</th>
            <th class="font-semibold text-sm py-3 px-4">Estado</th>
          </tr>
        </thead>
        <tbody>
          {boletasSII.map((b) => (
            <tr class="hover:bg-base-200/80 border-b border-base-300/50">
              <td class="py-4 px-4">{b.folio}</td>
              <td class="py-4 px-4">{formatear(b.monto)}</td>
              <td class="py-4 px-4"><span class="badge badge-sm badge-success">{b.estado}</span></td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </Card>
</DashboardLayout>
