---
/**
 * Contenido de la matriz de asistencia. Reutilizable para admin y secretaria con basePath.
 * RF-046: ✓ Asistió | F Falta | - Pendiente
 */
import Card from "../ui/Card.astro";
import { semanaAsistencia, matrizAsistencia } from "../../lib/mockData";

interface Props {
  basePath?: string;
}

const { basePath = "" } = Astro.props;
---

<div class="mb-6">
  <div class="flex items-center gap-2 text-sm text-secondary mb-2">
    <a href={`${basePath}/dashboard`} class="hover:text-gray-900">Inicio</a>
    <span>/</span>
    <span class="text-gray-900 font-medium">Asistencia</span>
  </div>
  <h1 class="text-2xl font-semibold text-base-content">Matriz asistencia - {semanaAsistencia}</h1>
</div>
<p class="text-base-content/70 mb-4">RF-046: ✓ Asistió | F Falta | - Pendiente</p>
<Card class="overflow-hidden p-0">
  <div class="overflow-x-auto">
    <table class="table">
      <thead>
        <tr class="bg-base-200 text-base-content">
          <th class="font-semibold text-sm py-3 px-4">Alumno</th>
          <th class="font-semibold text-sm py-3 px-4">Lun</th>
          <th class="font-semibold text-sm py-3 px-4">Mar</th>
          <th class="font-semibold text-sm py-3 px-4">Mié</th>
          <th class="font-semibold text-sm py-3 px-4">Jue</th>
          <th class="font-semibold text-sm py-3 px-4">Vie</th>
        </tr>
      </thead>
      <tbody>
        {matrizAsistencia.map((fila) => (
          <tr class="hover:bg-base-200/80 border-b border-base-300/50">
            <td class="py-4 px-4 font-medium">{fila.alumno}</td>
            <td class="py-4 px-4"><span class={fila.lun === '✓' ? 'text-success' : fila.lun === 'F' ? 'text-error' : 'text-base-content/50'}>{fila.lun}</span></td>
            <td class="py-4 px-4"><span class={fila.mar === '✓' ? 'text-success' : fila.mar === 'F' ? 'text-error' : 'text-base-content/50'}>{fila.mar}</span></td>
            <td class="py-4 px-4"><span class={fila.mie === '✓' ? 'text-success' : fila.mie === 'F' ? 'text-error' : 'text-base-content/50'}>{fila.mie}</span></td>
            <td class="py-4 px-4"><span class={fila.jue === '✓' ? 'text-success' : fila.jue === 'F' ? 'text-error' : 'text-base-content/50'}>{fila.jue}</span></td>
            <td class="py-4 px-4"><span class={fila.vie === '✓' ? 'text-success' : fila.vie === 'F' ? 'text-error' : 'text-base-content/50'}>{fila.vie}</span></td>
          </tr>
        ))}
      </tbody>
    </table>
  </div>
</Card>
<p class="text-sm text-base-content/70 mt-4">Leyenda: <span class="text-success font-medium">Asistió</span> | <span class="text-error font-medium">Falta</span> | <span class="text-base-content/50">Pendiente</span></p>
