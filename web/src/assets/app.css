@import 'tailwindcss';
@plugin 'daisyui';

/**
 * Design System Geist-Inspired
 * Basado en: docs/Diseño UX_UI para Astro y DaisyUI.md
 * Sistema de colores monocromático + acción
 * Tipografía optimizada con tracking ajustado
 */

@theme {
  /* Typography - Preparado para Geist Sans (fallback a Inter temporalmente) */
  --font-family-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;
  --font-family-mono: ui-monospace, 'Cascadia Code', monospace;
  
  /* Letter spacing optimizado para headers */
  --tracking-tight: -0.025em;
  --tracking-tighter: -0.035em;
  
  /* Escala monocromática (OKLCH - perceptualmente uniforme) */
  --color-gray-50: oklch(99% 0.003 264);
  --color-gray-100: oklch(97% 0.005 264);
  --color-gray-200: oklch(94% 0.008 264);
  --color-gray-300: oklch(88% 0.012 264);
  --color-gray-400: oklch(75% 0.015 264);
  --color-gray-500: oklch(58% 0.018 264);
  --color-gray-600: oklch(45% 0.020 264);
  --color-gray-700: oklch(35% 0.018 264);
  --color-gray-800: oklch(25% 0.015 264);
  --color-gray-900: oklch(15% 0.010 264);
  
  /* Semánticos - Textos (jerarquía visual) */
  --text-primary: var(--color-gray-900);
  --text-secondary: var(--color-gray-600);
  --text-muted: var(--color-gray-500);
  
  /* Color de acción (solo para CTAs primarios) */
  --color-action: oklch(54.7% 0.19 264);      /* Azul Vercel */
  --color-action-hover: oklch(48% 0.19 264);
  
  /* Estados - Mantener colores semánticos para feedback */
  --color-success: oklch(64% 0.16 162);       /* Verde */
  --color-success-content: oklch(100% 0 0);
  --color-warning: oklch(78% 0.17 75);        /* Amarillo */
  --color-warning-content: oklch(25% 0.05 55);
  --color-error: oklch(62% 0.22 25);          /* Rojo */
  --color-error-content: oklch(100% 0 0);
  
  /* Fondos - Escala de grises */
  --color-base-100: oklch(100% 0 0);          /* Blanco puro */
  --color-base-200: var(--color-gray-50);     /* Fondo sutil */
  --color-base-300: var(--color-gray-100);
  --color-base-content: var(--text-primary);
  
  /* DaisyUI override - Primario ahora es monocromático */
  --color-primary: var(--color-gray-900);
  --color-primary-content: oklch(100% 0 0);
  
  /* Bordes y radios */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  
  /* Custom easings - Geist style (snappy transitions) */
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
}

@layer base {
  /* Tipografía base */
  body {
    font-family: var(--font-family-sans);
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Headers con tracking ajustado (estilo Geist) */
  h1, h2, h3, h4, h5, h6 {
    letter-spacing: var(--tracking-tight);
    font-weight: 600;
    color: var(--text-primary);
  }
  
  h1 {
    letter-spacing: var(--tracking-tighter);
    text-wrap: balance; /* Evita líneas huérfanas */
  }
  
  /* Code/Pre con fuente mono */
  code, pre {
    font-family: var(--font-family-mono);
  }
  
  /* Focus visible mejorado (doble ring estilo Geist) */
  *:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px white, 0 0 0 4px var(--color-gray-900);
  }
  
  /* Textos secundarios y muted */
  .text-secondary {
    color: var(--text-secondary);
  }
  
  .text-muted {
    color: var(--text-muted);
  }
}

/* Modal abierto por ancla (hash) – RF-007 y otros */
.modal[id] { 
  display: none; 
  position: fixed; 
  inset: 0; 
  z-index: 50; 
  align-items: center; 
  justify-content: center; 
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px); /* Glassmorphism funcional */
}
.modal[id]:target { 
  display: flex !important; 
}
.modal[id]:target .modal-box { 
  max-height: 90vh; 
  overflow: auto; 
}
